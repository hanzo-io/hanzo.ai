// src/index.coffee
var index = function(opts) {
  if (opts == null) {
    opts = {};
  }
  if (opts.git == null) {
    opts.git = true;
  }
  if (opts.npm == null) {
    opts.npm = true;
  }
  return task('publish', 'publish project', function() {
    var cmds, force, ref, refspec, remote, respec;
    cmds = [];
    if (opts.npm) {
      cmds.push('npm publish');
    }
    if ((opts.git != null) && opts.git !== false) {
      if (opts.git.tags !== false) {
        cmds.push('git push --tags');
      }
      if (opts.git === true) {
        cmds.push('git push');
      } else {
        ref = opts.git, force = ref.force, remote = ref.remote, refspec = ref.refspec;
        if (remote != null) {
          respec = refspec != null ? refspec : '';
          force = force === true ? '-f' : '';
          cmds.push("git push " + force + " " + remote + " " + refspec);
        }
      }
    }
    return exec.parallel(cmds);
  });
};

export default index;
//# sourceMappingURL=sake-publish.mjs.map
