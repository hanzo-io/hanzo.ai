'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var path = _interopDefault(require('path'));
var mz = require('mz');

// src/index.coffee
var index = function(opts) {
  var dir, ref;
  if (opts == null) {
    opts = {};
  }
  dir = (ref = opts.dir) != null ? ref : process.cwd();
  dir = dir.replace('node_modules', '');
  dir = path.join(dir, 'node_modules');
  return task('linked', 'show linked packages', function*() {
    var file, files, i, len, results, stats;
    files = (yield mz.fs.readdir(dir));
    results = [];
    for (i = 0, len = files.length; i < len; i++) {
      file = files[i];
      stats = (yield mz.fs.lstat(path.join(dir, file)));
      if (stats.isSymbolicLink()) {
        results.push(console.log(file));
      } else {
        results.push(void 0);
      }
    }
    return results;
  });
};

module.exports = index;
//# sourceMappingURL=index.js.map
